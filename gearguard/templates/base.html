{% load static %}
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>GearGuard</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            background: 'hsl(0, 0%, 0%)',
            foreground: 'hsl(0, 0%, 100%)',
            card: 'hsl(0, 0%, 3%)',
            'card-foreground': 'hsl(0, 0%, 90%)',
            muted: 'hsl(0, 0%, 10%)',
            'muted-foreground': 'hsl(0, 0%, 60%)',
            border: 'hsl(0, 0%, 12%)',
          }
        }
      }
    }
  </script>

  <style>
    .app-header {
      border-bottom: 1px solid hsl(0, 0%, 12%);
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(12px);
      position: sticky;
      top: 0;
      z-index: 50;
    }

    .nav-link {
      font-size: 0.875rem;
      font-weight: 500;
      color: hsl(0, 0%, 60%);
      padding: 0.5rem 0.75rem;
      transition: color 0.2s;
    }

    .nav-link:hover {
      color: white;
    }

    .nav-link.active {
      color: white;
      border-bottom: 2px solid white;
    }
  </style>
</head>

<body class="bg-black text-white selection:bg-blue-500/30">

  <!-- HEADER -->
  <header class="app-header">
    <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">

      <!-- LEFT -->
      <div class="flex items-center gap-8 h-16">
        <h1 class="text-xl font-black tracking-tighter flex items-center gap-2">
          <span class="bg-white text-black px-1.5 py-0.5 rounded">G</span>
          GEARGUARD
        </h1>

        {% if user.is_authenticated %}
        <nav class="hidden md:flex items-center gap-1 h-16">
          <a href="/" class="nav-link {% if request.path == '/' %}active{% endif %}">Dashboard</a>
          <a href="/equipment/" class="nav-link {% if '/equipment/' in request.path %}active{% endif %}">Equipment</a>
          <a href="/maintenance/" class="nav-link {% if '/maintenance/' in request.path %}active{% endif %}">
            Maintenance
          </a>
          <a href="{% url 'teams:workcenter_list' %}"
            class="nav-link {% if '/teams/workcenters/' in request.path %}active{% endif %}">
            Work Centers
          </a>
          <a href="{% url 'teams:team_list' %}"
            class="nav-link {% if '/teams/' in request.path and '/workcenters/' not in request.path %}active{% endif %}">
            Teams
          </a>
        </nav>
        {% endif %}
      </div>

      <!-- RIGHT -->
      <div class="flex items-center gap-6 h-16">
        {% if user.is_authenticated %}
        <div class="flex items-center gap-3">
          <div class="w-5 h-5 bg-gradient-to-tr from-blue-500 to-teal-400 rounded-full"></div>
          <a href="{% url 'accounts:profile' %}"
            class="text-xs font-bold text-slate-300 uppercase tracking-widest hover:text-white">
            {{ user.username }}
          </a>
        </div>

        <form method="post" action="{% url 'accounts:logout' %}">
          {% csrf_token %}
          <button type="submit" class="text-xs font-bold text-red-500 uppercase tracking-widest hover:text-red-400">
            Logout
          </button>
        </form>
        {% else %}
        <div class="flex items-center gap-3">
          <a href="{% url 'accounts:login' %}"
            class="text-xs font-bold uppercase tracking-widest text-blue-500 hover:text-blue-400">
            Login
          </a>
          <span class="text-gray-500">/</span>
          <a href="{% url 'accounts:register' %}"
            class="text-xs font-bold uppercase tracking-widest text-blue-500 hover:text-blue-400">
            Register
          </a>
        </div>
        {% endif %}
      </div>

    </div>
  </header>

  <!-- MAIN -->
  <main class="max-w-7xl mx-auto px-4 py-8">
    {% if messages %}
    <div class="space-y-2 mb-4">
      {% for message in messages %}
      <div class="p-3 rounded bg-blue-500/10 border border-blue-500/20 text-blue-100">
        {{ message }}
      </div>
      {% endfor %}
    </div>
    {% endif %}

    {% block content %}{% endblock %}
  </main>

</body>

</html>