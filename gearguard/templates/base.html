{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GearGuard</title>
    <!-- <CHANGE> Updated to use app/globals.css and Tailwind CDN with proper config -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              background: 'hsl(0, 0%, 0%)',
              foreground: 'hsl(0, 0%, 100%)',
              card: 'hsl(0, 0%, 3%)',
              'card-foreground': 'hsl(0, 0%, 90%)',
              popover: 'hsl(0, 0%, 5%)',
              'popover-foreground': 'hsl(0, 0%, 100%)',
              primary: 'hsl(0, 0%, 100%)',
              'primary-foreground': 'hsl(0, 0%, 0%)',
              secondary: 'hsl(0, 0%, 15%)',
              'secondary-foreground': 'hsl(0, 0%, 100%)',
              muted: 'hsl(0, 0%, 10%)',
              'muted-foreground': 'hsl(0, 0%, 60%)',
              accent: 'hsl(0, 0%, 15%)',
              'accent-foreground': 'hsl(0, 0%, 100%)',
              destructive: 'hsl(0, 84%, 60%)',
              'destructive-foreground': 'hsl(0, 0%, 100%)',
              border: 'hsl(0, 0%, 12%)',
              input: 'hsl(0, 0%, 12%)',
              ring: 'hsl(0, 0%, 100%)',
            }
          }
        }
      }
    </script>
    <style>
      .app-header {
        border-bottom: 1px solid hsl(0, 0%, 12%);
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(12px);
        position: sticky;
        top: 0;
        z-index: 50;
      }
      .nav-link {
        font-size: 0.875rem;
        font-weight: 500;
        color: hsl(0, 0%, 60%);
        transition: color 0.2s;
        padding: 0.5rem 0.75rem;
      }
      .nav-link:hover {
        color: hsl(0, 0%, 100%);
      }
      .nav-link.active {
        color: hsl(0, 0%, 100%);
        border-bottom: 2px solid white;
      }
      .stat-card {
        background: hsl(0, 0%, 3%);
        border: 1px solid hsl(0, 0%, 12%);
        border-radius: 0.5rem;
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
    </style>
  </head>
  <body class="bg-black text-white selection:bg-blue-500/30">
    <header class="app-header">
      <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
        <div class="flex items-center gap-8">
          <h1 class="text-xl font-black tracking-tighter flex items-center gap-2">
            <span class="bg-white text-black px-1.5 py-0.5 rounded">G</span>
            GEARGUARD
          </h1>
          
          <nav class="hidden md:flex items-center gap-1">
            <a class="nav-link {% if request.path == '/' %}active{% endif %}" href="/">Dashboard</a>
            <a class="nav-link {% if '/equipment/' in request.path %}active{% endif %}" href="/equipment/">Equipment</a>
            <a class="nav-link {% if '/maintenance/' in request.path %}active{% endif %}" href="/maintenance/">Maintenance</a>
            <a class="nav-link {% if '/teams/workcenters/' in request.path %}active{% endif %}" href="{% url 'teams:workcenter_list' %}">Work Centers</a>
            <a class="nav-link {% if '/teams/' in request.path and '/workcenters/' not in request.path %}active{% endif %}" href="{% url 'teams:team_list' %}">Teams</a>
          </nav>
        </div>

        <div class="flex items-center gap-4">
          {% if user.is_authenticated %}
            <div class="flex items-center gap-3 bg-white/5 border border-white/10 px-3 py-1.5 rounded-full">
              <div class="w-5 h-5 bg-gradient-to-tr from-blue-500 to-teal-400 rounded-full"></div>
              <span class="text-xs font-bold text-slate-300 uppercase tracking-widest">{{ user.username }}</span>
            </div>
            <a class="text-xs font-bold text-red-500 uppercase tracking-widest hover:text-red-400" href="{% url 'accounts:logout' %}">Logout</a>
          {% else %}
            <a class="text-xs font-bold uppercase tracking-widest text-blue-500 hover:text-blue-400" href="{% url 'accounts:login' %}">Login</a>
          {% endif %}
        </div>
      </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8">
      {% if messages %}
        <div class="space-y-2 mb-4">
          {% for message in messages %}
            <!-- <CHANGE> Updated message styling to dark theme -->
            <div class="p-3 rounded bg-blue-500/10 border border-blue-500/20 text-blue-100">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
      {% block content %}{% endblock %}
    </main>
  </body>
</html>
