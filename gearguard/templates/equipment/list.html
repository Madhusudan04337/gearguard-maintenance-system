{% extends "base.html" %}

{% block content %}
<div class="mb-8">
  <div class="flex justify-between items-center mb-6">
    <div>
      <h1 class="text-3xl font-bold text-white mb-2">Equipment Inventory</h1>
      <p class="text-muted-foreground text-sm">Manage all equipment and assets</p>
    </div>
    <a href="{% url 'equipment:equipment_create' %}"
      class="inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-semibold transition-colors">
      <span>+</span> New Equipment
    </a>
  </div>

  <!-- Improved professional table styling with company column -->
  <div class="bg-card border border-border rounded-lg overflow-hidden">
    <table class="w-full text-left">
      <thead class="bg-slate-900/50 border-b border-border sticky top-0">
        <tr>
          <th class="px-6 py-4 text-xs font-bold uppercase text-muted-foreground tracking-wider">Equipment Name</th>
          <th class="px-6 py-4 text-xs font-bold uppercase text-muted-foreground tracking-wider">Company</th>
          <th class="px-6 py-4 text-xs font-bold uppercase text-muted-foreground tracking-wider">Category</th>
          <th class="px-6 py-4 text-xs font-bold uppercase text-muted-foreground tracking-wider">Serial Number</th>
          <th class="px-6 py-4 text-xs font-bold uppercase text-muted-foreground tracking-wider">Status</th>
          <th class="px-6 py-4 text-xs font-bold uppercase text-muted-foreground tracking-wider">Actions</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-border">
        {% for eq in equipment_list %}
        <tr class="hover:bg-slate-900/30 transition-colors group">
          <td class="px-6 py-4">
            <a href="{% url 'equipment:equipment_detail' eq.pk %}"
              class="font-semibold text-blue-400 hover:text-blue-300 transition-colors">
              {{ eq.name }}
            </a>
            {% if eq.serial_number %}
            <div class="text-xs text-muted-foreground mt-1">SN: {{ eq.serial_number }}</div>
            {% endif %}
          </td>
          <td class="px-6 py-4">
            {% if eq.company %}
            <span
              class="inline-block px-2 py-1 bg-blue-900/20 text-blue-300 text-xs font-semibold rounded border border-blue-800/40">
              {{ eq.company }}
            </span>
            {% else %}
            <span class="text-muted-foreground text-sm">-</span>
            {% endif %}
          </td>
          <td class="px-6 py-4 text-sm text-slate-300">
            {{ eq.category.name|default:"-" }}
          </td>
          <td class="px-6 py-4 text-sm font-mono text-slate-400">
            {{ eq.serial_number|default:"-" }}
          </td>
          <td class="px-6 py-4">
            {% if eq.status == 'active' %}
            <span
              class="px-3 py-1 rounded-full text-xs font-bold bg-green-900/30 text-green-400 border border-green-800/50">
              Active
            </span>
            {% elif eq.status == 'under_maintenance' %}
            <span
              class="px-3 py-1 rounded-full text-xs font-bold bg-yellow-900/30 text-yellow-400 border border-yellow-800/50">
              Maintenance
            </span>
            {% else %}
            <span class="px-3 py-1 rounded-full text-xs font-bold bg-red-900/30 text-red-400 border border-red-800/50">
              Scrapped
            </span>
            {% endif %}
          </td>
          <td class="px-6 py-4 text-sm">
            <a href="{% url 'equipment:equipment_detail' eq.pk %}"
              class="text-blue-400 hover:text-blue-300 font-semibold transition-colors">View</a>
            <span class="text-slate-600 mx-2">â€¢</span>
            <a href="{% url 'equipment:equipment_edit' eq.pk %}"
              class="text-slate-400 hover:text-slate-300 transition-colors">Edit</a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="6" class="px-6 py-12 text-center">
            <p class="text-muted-foreground mb-4">No equipment found. Add your first equipment to get started.</p>
            <a href="{% url 'equipment:equipment_create' %}"
              class="inline-block bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-semibold transition-colors">
              Add Equipment
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}